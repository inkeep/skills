---
title: "Status Updates Configuration"
description: "How to configure AI-powered status updates for agents"
topic-path: "typescript-sdk/structured-outputs/status-updates"
---

# Status Updates Configuration

## Configuration

Configure status updates in your agent:

```typescript
export const myAgent = agent({
  id: "my-agent",
  defaultSubAgent: myAgent,
  subAgents: () => [myAgent],

  // Model Settings with summarizer
  models: {
    base: { model: "anthropic/claude-sonnet-4-5" },
    summarizer: { model: "anthropic/claude-sonnet-4-5" }, // Model for status updates
  },

  // Status updates configuration
  statusUpdates: {
    numEvents: 3, // Trigger after 3 events
    timeInSeconds: 15, // Trigger every 15 seconds
    prompt: "Custom prompt for status updates", // Optional
  },
});
```

### Configuration Options

| Option             | Type   | Default       | Description                                                   |
| ------------------ | ------ | ------------- | ------------------------------------------------------------- |
| `numEvents`        | number | 10            | Trigger update after N events                                 |
| `timeInSeconds`    | number | 30            | Trigger update every N seconds                                |
| `model`            | string | agent default | Override model for summaries                                  |
| `prompt`           | string | undefined     | Custom prompt appended to base system prompt (max 2000 chars) |
| `statusComponents` | array  | undefined     | Structured status components (advanced)                       |

## Basic Example

```typescript
const searchAgent = subAgent({
  id: "search-agent",
  name: "Search Agent",
  prompt: "Help users search and analyze information.",
  canUse: () => [searchTool],
});

export const searchDemo = agent({
  id: "search-demo",
  defaultSubAgent: searchAgent,
  subAgents: () => [searchAgent],

  models: {
    base: { model: "anthropic/claude-sonnet-4-5" },
    summarizer: { model: "anthropic/claude-sonnet-4-5" },
  },

  // Enable status updates
  statusUpdates: {
    numEvents: 2, // Update every 2 operations
    timeInSeconds: 10, // Or every 10 seconds
  },
});
```

**User Experience:**
When a user asks "What's the weather in Paris?", they might see:

1. "Searching for current weather information..."
2. "Found weather data, analyzing conditions..."
3. "Preparing detailed weather report..."

## Custom Prompts

You can customize how status updates are generated by providing a custom prompt that gets appended to the base system prompt. Custom prompts are limited to 2000 characters to ensure optimal performance:

```typescript
export const myAgent = agent({
  id: "my-agent",
  defaultSubAgent: myAgent,
  subAgents: () => [myAgent],
  models: {
    summarizer: { model: "anthropic/claude-sonnet-4-5" },
  },
  statusUpdates: {
    numEvents: 3,
    timeInSeconds: 15,
    // Custom prompt is appended to the base system prompt
    prompt: "KEEP ALL STATUS UPDATES SHORT AND CONCISE. Use bullet points and focus only on user-visible progress.",
  },
});
```

### Custom Prompt Examples

**Concise Updates:**

```typescript
statusUpdates: {
  prompt: 'Keep responses to 5 words maximum. Use present tense verbs.',
}
// Results in: "Searching documentation", "Processing data", "Generating report"
```

**Detailed Progress:**

```typescript
statusUpdates: {
  prompt: 'Provide specific details about what was found or accomplished. Include relevant numbers or names when available.',
}
// Results in: "Found 12 API endpoints in authentication docs", "Retrieved user profile for john@example.com"
```

**Branded Tone:**

```typescript
statusUpdates: {
  prompt: 'Use a friendly, helpful tone. Start updates with action words like "Discovering", "Exploring", "Analyzing".',
}
// Results in: "Discovering relevant documentation...", "Analyzing search results for best matches"
```

## Default vs Structured Status Updates

Status updates can be generated in two ways:

### Default Status Components

When no `statusComponents` are configured, the system uses built-in default status components that generate structured labels with contextual details:

* **`label`**: AI-generated user-friendly description (e.g., "Searching documentation for API examples")
* **`details`**: Optional structured data with context about the operation

The default status components are defined in [`packages/agents-sdk/src/default-status-schemas.ts`](https://github.com/inkeep/agents/blob/main/packages/agents-sdk/src/default-status-schemas.ts):

```typescript src="agents-run-api/src/utils/default-status-schemas.ts"
```

### Custom Structured Components

For complete control over status format, define custom structured status components using Zod schemas with the `statusComponent` helper:

```typescript
import { z } from 'zod';
import { statusComponent } from '@inkeep/agents-sdk';

const toolSummary = statusComponent({
  type: 'tool_summary',
  description: 'Summary of tool calls and their purpose',
  detailsSchema: z.object({
    tool_name: z.string().describe('Name of tool used'),
    purpose: z.string().describe('Why this tool was called'),
    outcome: z.string().describe('What was discovered or accomplished'),
  }),
});

const progressUpdate = statusComponent({
  type: 'progress_update',
  description: 'Progress information with metrics',
  detailsSchema: z.object({
    current_step: z.string(),
    items_processed: z.number().optional(),
    status: z.enum(['in_progress', 'completed', 'pending']),
  }),
});

export const myAgent = agent({
  id: "my-agent",
  defaultSubAgent: myAgent,
  subAgents: () => [myAgent],
  models: {
    summarizer: { model: "anthropic/claude-sonnet-4-5" },
  },
  statusUpdates: {
    numEvents: 3,
    timeInSeconds: 15,
    statusComponents: [
      toolSummary.config,
      progressUpdate.config,
    ],
  },
});
```

<Callout type="info">
  The `statusComponent` helper provides type-safe status component definitions with automatic schema validation. Zod schemas are automatically converted to JSON Schema format at runtime.
</Callout>

### Status Component API

The `statusComponent` function accepts:

| Property        | Type               | Required | Description                                         |
| --------------- | ------------------ | -------- | --------------------------------------------------- |
| `type`          | string             | Yes      | Unique identifier for this status component type    |
| `description`   | string             | No       | Description of when/why this status is used         |
| `detailsSchema` | `z.ZodObject<any>` | No       | Zod schema defining the structure of status details |

**Note:** Use `.config` when passing status components to the agent configuration

## Frontend Integration

Status updates arrive as `data-summary` events with AI-generated labels and contextual details:

```typescript
// In your message processing
message.parts.forEach((part) => {
  if (part.type === "data-summary") {
    const { type, label, details } = part.data;

    // Display the user-friendly status label
    displayStatusUpdate(label);

    // Handle optional structured details
    if (details) {
      // For default status components: contextual operation details
      // For custom components: your defined schema structure
      displayStructuredDetails(details);
    }

    // The 'type' field indicates the summary category
    console.log(`Status update type: ${type}`);
  }
});
```
